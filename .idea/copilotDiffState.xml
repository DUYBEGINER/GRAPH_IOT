<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/PROGRESS_BAR_GUIDE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PROGRESS_BAR_GUIDE.md" />
              <option name="updatedContent" value="#  Progress Bar - Hướng dẫn sử dụng&#10;&#10;## ✅ ĐÃ THÊM PROGRESS BAR&#10;&#10;Script `preprocess_data.py` đã được cập nhật với **thanh tiến trình (progress bar)** để theo dõi tiến độ xử lý!&#10;&#10;---&#10;&#10;##  Cài đặt (khuyến nghị)&#10;&#10;### Cài tqdm để có progress bar:&#10;&#10;```powershell&#10;pip install tqdm&#10;```&#10;&#10;**Sau khi cài xong, chạy:**&#10;```powershell&#10;python preprocess_data.py&#10;```&#10;&#10;---&#10;&#10;##  Các thanh tiến trình&#10;&#10;### 1. **Loading CSV files**&#10;```&#10; Loading CSV files: 100%|████████| 10/10 [02:30&lt;00:00, 15.0s/file]&#10;```&#10;- Hiển thị số file đã load&#10;- Thời gian còn lại (ETA)&#10;- Tốc độ load (files/second)&#10;&#10;### 2. **Processing inf values**&#10;```&#10; Processing inf values: 100%|████████| 68/68 [00:15&lt;00:00, 4.5col/s]&#10;```&#10;- Số cột đã xử lý&#10;- Thời gian còn lại&#10;&#10;### 3. **Normalizing features**&#10;```&#10; Normalizing: 100%|████████| 2/2 [00:30&lt;00:00, 15.0s/step]&#10;```&#10;- Tiến độ normalization&#10;&#10;### 4. **Saving files**&#10;```&#10; Saving files: 100%|████████| 8/8 [01:00&lt;00:00, 7.5s/file]&#10;```&#10;- Số file đã lưu&#10;- File đang l��u&#10;&#10;---&#10;&#10;##  Minh họa output&#10;&#10;### Với tqdm (CÓ progress bar):&#10;&#10;```&#10;================================================================================&#10;LOADING CICIDS2018 DATA&#10;================================================================================&#10;Tìm thấy 10 file CSV&#10; Loading CSV files:  50%|██████▌       | 5/10 [01:15&lt;01:15, 15.0s/file]&#10;```&#10;&#10;### Không có tqdm (KHÔNG progress bar):&#10;&#10;```&#10;================================================================================&#10;LOADING CICIDS2018 DATA&#10;================================================================================&#10;Tìm thấy 10 file CSV&#10;⚠️  tqdm not installed. Install for progress bars: pip install tqdm&#10;  Đang đọc: Friday-02-03-2018_TrafficForML_CICFlowMeter.csv...&#10;    ✓ 445,909 rows loaded&#10;  Đang đọc: Friday-16-02-2018_TrafficForML_CICFlowMeter.csv...&#10;    ✓ 663,808 rows loaded&#10;  ...&#10;```&#10;&#10;**→ Vẫn chạy được nhưng không có progress bar!**&#10;&#10;---&#10;&#10;##  Lợi ích của Progress Bar&#10;&#10;### 1. **Biết được tiến độ**&#10;- Bao nhiêu % đã hoàn thành&#10;- Còn bao lâu nữa (ETA - Estimated Time of Arrival)&#10;&#10;### 2. **Không lo &quot;script bị treo&quot;**&#10;- Thấy thanh chạy → biết script vẫn hoạt động&#10;- Thấy file/cột đang xử lý&#10;&#10;### 3. **Tối ưu workflow**&#10;- Biết step nào chậm nhất&#10;- Có thể đi làm việc khác khi còn lâu&#10;&#10;---&#10;&#10;##  So sánh&#10;&#10;| Aspect | Không có tqdm | Có tqdm |&#10;|--------|---------------|---------|&#10;| **Progress** | ❌ Không biết % | ✅ Biết rõ % |&#10;| **ETA** | ❌ Không biết còn bao lâu | ✅ Hiển thị thời gian còn lại |&#10;| **Tốc độ** | ❌ Không biết | ✅ Hiển thị items/s |&#10;| **Cài đặt** | ✅ Không cần | ⚠️ Cần: `pip install tqdm` |&#10;| **Hoạt động** | ✅ Vẫn chạy bình thường | ✅ Chạy + có progress bar |&#10;&#10;---&#10;&#10;##  Chi tiết kỹ thuật&#10;&#10;### Auto-detect tqdm:&#10;&#10;```python&#10;try:&#10;    from tqdm import tqdm&#10;    TQDM_AVAILABLE = True&#10;except ImportError:&#10;    TQDM_AVAILABLE = False&#10;    print(&quot;⚠️  tqdm not installed. Install for progress bars: pip install tqdm&quot;)&#10;    tqdm = lambda x, **kwargs: x  # Fallback&#10;```&#10;&#10;**Cách hoạt động:**&#10;- Nếu **CÓ tqdm**: Dùng progress bar&#10;- Nếu **KHÔNG có**: Fallback về in thông thường&#10;&#10;**→ Script luôn chạy được, dù có hay không có tqdm!**&#10;&#10;---&#10;&#10;## ✅ Checklist&#10;&#10;### Để có progress bar đẹp:&#10;- [ ] Cài tqdm: `pip install tqdm`&#10;- [ ] Chạy script: `python preprocess_data.py`&#10;- [ ] Thấy các thanh tiến trình:    &#10;&#10;### Nếu không muốn cài tqdm:&#10;- [ ] Bỏ qua, chạy luôn: `python preprocess_data.py`&#10;- [ ] Thấy text thông thường (không có progress bar)&#10;- [ ] Vẫn hoạt động bình thường!&#10;&#10;---&#10;&#10;##  Demo output (với tqdm)&#10;&#10;```&#10;╔══════════════════════════════════════════════════════════════════════════════╗&#10;║               CICIDS2018 DATA PREPROCESSING PIPELINE                         ║&#10;╚══════════════════════════════════════════════════════════════════════════════╝&#10;&#10;&#10;================================================================================&#10;LOADING CICIDS2018 DATA&#10;================================================================================&#10;Tìm thấy 10 file CSV&#10; Loading CSV files:  30%|███▊           | 3/10 [00:45&lt;01:45, 15.0s/file] {rows: 1,109,717, filtered: 6}&#10;&#10;================================================================================&#10;CLEANING DATA&#10;================================================================================&#10;Dropping inconsistent/unnecessary columns: ['Timestamp']&#10;✓ Remaining columns: 79&#10;✓ Features kept: 78&#10;...&#10; Processing inf values: 100%|████████████| 68/68 [00:15&lt;00:00, 4.5col/s]&#10;&#10;================================================================================&#10;NORMALIZING FEATURES&#10;================================================================================&#10;Normalizing 68 features...&#10; Normalizing: 100%|████████████████████| 2/2 [00:30&lt;00:00, 15.0s/step] {status: completed}&#10;✓ Features normalized&#10;&#10;================================================================================&#10;SAVING PROCESSED DATA&#10;================================================================================&#10; Saving files: 100%|████████████████████| 8/8 [01:00&lt;00:00, 7.5s/file] {file: metadata.pkl}&#10;&#10;✓ All files saved successfully!&#10;  - Feature array: (16232943, 68)&#10;  - Binary labels: (16232943,)&#10;  - Multi-class labels: (16232943,)&#10;&#10;================================================================================&#10;PREPROCESSING COMPLETED!&#10;================================================================================&#10;```&#10;&#10;**→ Rất dễ theo dõi tiến độ!** &#10;&#10;---&#10;&#10;##  Troubleshooting&#10;&#10;### Q: Cài tqdm nhưng vẫn không thấy progress bar?&#10;A: Restart terminal hoặc Python environment&#10;&#10;### Q: Progress bar bị nhấp nháy/lỗi?&#10;A: Đang chạy trong IDE có thể không hỗ trợ tốt. Chạy trong terminal thuần.&#10;&#10;### Q: Có bắt buộc phải cài tqdm không?&#10;A: **KHÔNG!** Script vẫn chạy bình thường, chỉ không có progress bar.&#10;&#10;---&#10;&#10;**Happy preprocessing với progress bar! **&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/extract_labels_no_pandas.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/extract_labels_no_pandas.py" />
              <option name="updatedContent" value="&quot;&quot;&quot;&#10;Script đơn giản để trích xuất các nhãn (Label) từ tệp CSV&#10;Chỉ sử dụng thư viện chuẩn của Python (không cần pandas)&#10;&quot;&quot;&quot;&#10;&#10;import csv&#10;from collections import Counter&#10;import os&#10;&#10;def extract_labels_no_pandas(csv_file_path):&#10;    &quot;&quot;&quot;&#10;    Trích xuất các nhãn từ một tệp CSV cụ thể&#10;    Không sử dụng pandas - chỉ dùng thư viện chuẩn&#10;    &#10;    Args:&#10;        csv_file_path: Đường dẫn đến tệp CSV&#10;    &quot;&quot;&quot;&#10;    print(f&quot;Đang đọc tệp: {csv_file_path}&quot;)&#10;    &#10;    labels = []&#10;    &#10;    # Đọc tệp CSV&#10;    with open(csv_file_path, 'r', encoding='utf-8') as file:&#10;        csv_reader = csv.DictReader(file)&#10;        &#10;        # Kiểm tra xem có cột 'Label' không&#10;        if 'Label' not in csv_reader.fieldnames:&#10;            print(&quot;Lỗi: Không tìm thấy cột 'Label' trong tệp CSV&quot;)&#10;            print(f&quot;Các cột có sẵn: {csv_reader.fieldnames}&quot;)&#10;            return None, None&#10;        &#10;        # Đọc tất cả các nhãn&#10;        for row in csv_reader:&#10;            labels.append(row['Label'])&#10;    &#10;    # Lấy các nhãn duy nhất&#10;    unique_labels = sorted(set(labels))&#10;    &#10;    # Đếm số lượng mỗi nhãn&#10;    label_counts = Counter(labels)&#10;    &#10;    # Hiển thị kết quả&#10;    print(&quot;\n&quot; + &quot;=&quot; * 60)&#10;    print(&quot;CÁC NHÃN TÌM THẤY&quot;)&#10;    print(&quot;=&quot; * 60)&#10;    print(f&quot;\nTổng số nhãn duy nhất: {len(unique_labels)}&quot;)&#10;    print(f&quot;\nDanh sách các nhãn:&quot;)&#10;    for i, label in enumerate(unique_labels, 1):&#10;        print(f&quot;  {i}. {label}&quot;)&#10;    &#10;    print(&quot;\n&quot; + &quot;=&quot; * 60)&#10;    print(&quot;PHÂN PHỐI SỐ LƯỢNG MỖI NHÃN&quot;)&#10;    print(&quot;=&quot; * 60)&#10;    total = len(labels)&#10;    for label, count in label_counts.most_common():&#10;        percentage = (count / total) * 100&#10;        print(f&quot;{label}: {count:,} ({percentage:.2f}%)&quot;)&#10;    &#10;    print(f&quot;\nTổng số dòng dữ liệu: {total:,}&quot;)&#10;    &#10;    return unique_labels, label_counts&#10;&#10;def extract_labels_from_all_files(directory_path):&#10;    &quot;&quot;&quot;&#10;    Trích xuất nhãn từ tất cả các tệp CSV trong thư mục&#10;    &#10;    Args:&#10;        directory_path: Đường dẫn đến thư mục chứa các tệp CSV&#10;    &quot;&quot;&quot;&#10;    all_labels = set()&#10;    &#10;    print(&quot;\n&quot; + &quot;=&quot; * 80)&#10;    print(&quot;TRÍCH XUẤT NHÃN TỪ TẤT CẢ CÁC TẾP CSV&quot;)&#10;    print(&quot;=&quot; * 80)&#10;    &#10;    # Lấy tất cả các tệp CSV&#10;    csv_files = [f for f in os.listdir(directory_path) if f.endswith('.csv')]&#10;    &#10;    print(f&quot;\nTìm thấy {len(csv_files)} tệp CSV\n&quot;)&#10;    &#10;    for csv_file in sorted(csv_files):&#10;        file_path = os.path.join(directory_path, csv_file)&#10;        print(f&quot;\n{'─' * 80}&quot;)&#10;        print(f&quot;Đang xử lý: {csv_file}&quot;)&#10;        print('─' * 80)&#10;        &#10;        try:&#10;            with open(file_path, 'r', encoding='utf-8') as file:&#10;                csv_reader = csv.DictReader(file)&#10;                &#10;                if 'Label' in csv_reader.fieldnames:&#10;                    file_labels = set()&#10;                    for row in csv_reader:&#10;                        file_labels.add(row['Label'])&#10;                    &#10;                    all_labels.update(file_labels)&#10;                    print(f&quot;Các nhãn tìm thấy ({len(file_labels)}): {sorted(file_labels)}&quot;)&#10;                else:&#10;                    print(&quot;Cảnh báo: Không tìm thấy cột 'Label'&quot;)&#10;        &#10;        except Exception as e:&#10;            print(f&quot;Lỗi khi đọc tệp: {e}&quot;)&#10;    &#10;    # Hiển thị tổng kết&#10;    print(&quot;\n&quot; + &quot;=&quot; * 80)&#10;    print(&quot;KẾT QUẢ TỔNG HỢP&quot;)&#10;    print(&quot;=&quot; * 80)&#10;    print(f&quot;\nTổng số nhãn duy nhất tìm thấy: {len(all_labels)}&quot;)&#10;    print(f&quot;\nDanh sách các nhãn:&quot;)&#10;    for i, label in enumerate(sorted(all_labels), 1):&#10;        print(f&quot;  {i}. {label}&quot;)&#10;    &#10;    return all_labels&#10;&#10;# Chương trình chính&#10;if __name__ == &quot;__main__&quot;:&#10;    # Lựa chọn: phân tích một tệp hoặc tất cả các tệp&#10;    print(&quot;Chọn chế độ:&quot;)&#10;    print(&quot;1. Trích xuất nhãn từ một tệp cụ thể&quot;)&#10;    print(&quot;2. Trích xuất nhãn từ tất cả các tệp CSV trong thư mục&quot;)&#10;    &#10;    choice = input(&quot;\nNhập lựa chọn của bạn (1 hoặc 2): &quot;).strip()&#10;    &#10;    if choice == &quot;1&quot;:&#10;        # Phân tích một tệp cụ thể&#10;        csv_file = r&quot;D:\PROJECT\Machine Learning\IOT\CICIDS2018-CSV\Friday-02-03-2018_TrafficForML_CICFlowMeter.csv&quot;&#10;        &#10;        # Hoặc để người dùng nhập đường dẫn&#10;        custom_path = input(f&quot;\nNhập đường dẫn tệp CSV (Enter để dùng mặc định):\n{csv_file}\n&gt; &quot;).strip()&#10;        if custom_path:&#10;            csv_file = custom_path&#10;        &#10;        try:&#10;            labels, counts = extract_labels_no_pandas(csv_file)&#10;        except FileNotFoundError:&#10;            print(f&quot;\nLỗi: Không tìm thấy tệp {csv_file}&quot;)&#10;        except Exception as e:&#10;            print(f&quot;\nLỗi: {e}&quot;)&#10;    &#10;    elif choice == &quot;2&quot;:&#10;        # Phân tích tất cả các tệp&#10;        directory = r&quot;D:\PROJECT\Machine Learning\IOT\CICIDS2018-CSV&quot;&#10;        &#10;        custom_dir = input(f&quot;\nNhập đường dẫn thư mục (Enter để dùng mặc định):\n{directory}\n&gt; &quot;).strip()&#10;        if custom_dir:&#10;            directory = custom_dir&#10;        &#10;        try:&#10;            all_labels = extract_labels_from_all_files(directory)&#10;            &#10;            # Lưu kết quả ra tệp&#10;            output_file = &quot;labels_summary.txt&quot;&#10;            with open(output_file, 'w', encoding='utf-8') as f:&#10;                f.write(&quot;TỔNG HỢP CÁC NHÃN TỪ CICIDS2018 DATASET\n&quot;)&#10;                f.write(&quot;=&quot; * 80 + &quot;\n\n&quot;)&#10;                f.write(f&quot;Tổng số nhãn duy nhất: {len(all_labels)}\n\n&quot;)&#10;                f.write(&quot;Danh sách các nhãn:\n&quot;)&#10;                for label in sorted(all_labels):&#10;                    f.write(f&quot;  - {label}\n&quot;)&#10;            &#10;            print(f&quot;\nKết quả đã được lưu vào: {output_file}&quot;)&#10;        &#10;        except Exception as e:&#10;            print(f&quot;\nLỗi: {e}&quot;)&#10;    &#10;    else:&#10;        print(&quot;\nLựa chọn không hợp lệ!&quot;)&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>